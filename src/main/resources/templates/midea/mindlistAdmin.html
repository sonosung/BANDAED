<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<link th:href="@{/css/simple-sidebar.css}" rel="stylesheet">

<th:block th:replace="~{/layout/wooxtravel :: setContent(~{this::content} )}">

  <th:block th:fragment="content">

  <div class="page-heading-admin">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h4>Discover Our Weekly Offers</h4>
          <h2>Our Recommended Music &amp; More</h2>
          <div class="border-button"><a th:href="@{/midea/mindlist}">유저 게시판으로 이동</a></div>
        </div>
      </div>
    </div>
  </div>

  <div class="search-form">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <form id="search-form" name="gs" method="submit" role="search" action="#">
            <div class="row">
              <div class="col-lg-2">
                <h4>Sort Music By:</h4>
              </div>
              <div class="col-lg-2">
                  <fieldset>
                    <input type="hidden" name="page" value="1">
                    <div class="input-group-prepend">
                      <select class="custom-select" name="type">
                        <option aria-label="Default select example" th:selected="${pageRequestDTO.type == null}">검색 조건</option>
                        <option value="c" th:selected="${pageRequestDTO.type == 'c'}">아티스트</option>
                        <option value="t" th:selected="${pageRequestDTO.type == 't'}">곡명</option>
                        <option value="n" th:selected="${pageRequestDTO.type == 'n'}">작성자</option>
                        <option value="ct" th:selected="${pageRequestDTO.type == 'ct'}">내용</option>
                        <option value="tc" th:selected="${pageRequestDTO.type == 'tc'}">곡명 + 아티스트</option>
                        <option value="tcn" th:selected="${pageRequestDTO.type == 'tcn'}">곡명 + 아티스트 + 작성자</option>
                      </select>
                    </div>
                  </fieldset>
              </div>
              <div class="col-lg-4">
                  <fieldset>
                    <input class="form-control" name="keyword" th:value="${pageRequestDTO.keyword}" aria-label="Default select example">
                  </fieldset>
              </div>
              <div class="col-lg-2">                        
                  <fieldset>
                      <button type="button" class="border-button btn-search">Search Results</button>
                  </fieldset>
              </div>
              <div class="col-lg-2">
              <span>
                <a th:href="@{/midea/mlAdminRegister}">
                    <button type="button" class="border-button">Register</button>
                </a>
            </span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="amazing-deals">
    <div class="container">
      <div class="row">

        <!--=========================================== css 창 정사각형 ===============================================-->

        <div class="cities-town">
          <div class="container">
            <div class="row">
              <div class="slider-content">
                <div class="row">
                  <div class="col-lg-12">
                    <h2>MIDEA’s <em>Best Choices for <b th:text="${nickname}"></b></em></h2>
                  </div>
                  <div class="col-lg-12">
                    <div class="owl-cites-town owl-carousel">

                      <!-------------------------------- 알고리즘 목록 ------------------------------------>

                      <!--<th scope="row">
                        <! th:href="@{/midea/mlread(mno = ${dto.mno},
                              page=${result.page},
                              type = ${pageRequestDTO.type},
                              keyword = ${pageRequestDTO.keyword}
                              )}">
                        </a>
                      </th>-->
                      <tr th:each="dto : ${algorithm.dtoList}" >
                        <a th:href="@{/midea/mlAdminRead(mno = ${dto.url})}">
                          <div class="item">
                            <div class="thumb">
                              <!--                          <img th:src="@{/wooxtravel/assets/images/cities-01.jpg}" alt="">-->

                              <div id="playerAlgorithm"></div>
                              [[${dto.url}]]

                              <!--                          <h4>Havana</h4>-->
                              <h4>[[${dto.title}]]</h4>
                            </div>
                          </div>
                        </a>
                      </tr>

                      <!--<div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-02.jpg}" alt="">
                          <h4>Kingston</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-03.jpg}" alt="">
                          <h4>George Town</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-04.jpg}" alt="">
                          <h4>Santo Domingo</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-01.jpg}" alt="">
                          <h4>Havana</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-02.jpg}" alt="">
                          <h4>Kingston</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-03.jpg}" alt="">
                          <h4>George Town</h4>
                        </div>
                      </div>
                      <div class="item">
                        <div class="thumb">
                          <img th:src="@{/wooxtravel/assets/images/cities-04.jpg}" alt="">
                          <h4>Santo Domingo</h4>
                        </div>
                      </div>-->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--        <div class="col-lg-6 offset-lg-3">
                  <div class="section-heading text-center">
                    <h2>Best Weekly Music We Recommend you</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.</p>
                  </div>
                </div> -->

        <!--========================================== ↓ 게시판 ===============================================-->

        <div>
          <!--<h1 class="mt-4">Mindlist Admin Page
            <span>
                <a th:href="@{/midea/mlAdminRegister}">
                    <button type="button" class="btn btn-outline-primary">REGISTER</button>
                </a>
            </span>
          </h1>

          <form action="/midea/mindlistAdmin" method="get" id="searchForm">
            <div class="input-group">

              <input type="hidden" name="page" value="1">
              <div class="input-group-prepend">
                <select class="custom-select" name="type">
                  <option th:selected="${pageRequestDTO.type == null}">&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;</option>
                  <option value="c" th:selected="${pageRequestDTO.type == 'c'}">아티스트</option>
                  <option value="t" th:selected="${pageRequestDTO.type == 't'}">곡명</option>
                  <option value="w" th:selected="${pageRequestDTO.type == 'w'}">작성자</option>
                  <option value="tc" th:selected="${pageRequestDTO.type == 'tc'}">곡명 + 아티스트</option>
                  <option value="tcw" th:selected="${pageRequestDTO.type == 'tcw'}">곡명 + 아티스트 + 작성자</option>
                </select>
              </div>

              <input class="form-control" name="keyword" th:value="${pageRequestDTO.keyword}">
              <div class="input-group-append" id="button-addon4">
                <button class="btn btn-outline-secondary btn-search" type="button">Search</button>
                <button class="btn btn-outline-secondary btn-clear" type="button">Clear</button>
              </div>

            </div>
          </form>-->

          <tr th:each="dto : ${result.dtoList}" >
            <th scope="row">
              <a th:href="@{/midea/mlAdminRead(mno = ${dto.mno},
                page=${result.page},
                type = ${pageRequestDTO.type},
                keyword = ${pageRequestDTO.keyword}
                )}">
                [[${dto.mno}]]
              </a>
            </th>
            <!--========================================== ↓ 폼1 ===============================================-->
            <div class="col-lg-6 col-xxl-12 col-sm-7">
              <div class="item">
                <div class="row">
                  <div class="col-lg-6">
                    [[${dto.url}]]
                  </div>
                  <div class="col-lg-6 align-self-center">
                    <div class="content">
                      <span class="info">[[${#temporals.format(dto.regDate, 'yyyy/MM/dd')}]]</span>
                      <h3>[[${dto.composer}]]</h3>
                      <div class="row">
                        <div class="col-6">
                          <i class="fa-solid fa-music"></i>
                          <span class="list">[[${dto.title}]]</span>
                        </div>
                        <div class="col-6">
                          <i class="fa-solid fa-user"></i>
                          <span class="list">[[${dto.nickname}]] ---- [<b th:text="${dto.commentCount}"></b>]</span>
                        </div>
                      </div>
                      <p>[[${dto.content}]]</p>
                      <div class="main-button">
                        <a href="https://www.youtube.com/watch?v=NXD-WJYtkyc&t=3149s">음악 들으러 가기</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </tr>

 <!--       <div class="col-lg-12">
          <ul class="page-numbers">
            <li><a href="#"><i class="fa fa-arrow-left"></i></a></li>
            <li><a href="#">1</a></li>
            <li class="active"><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#"><i class="fa fa-arrow-right"></i></a></li>
          </ul>
        </div>-->

          <!--========================================== ↓ 페이지 표시 ===============================================-->

          <div class="col-lg-12">
            <ul class="page-numbers">
              <ul class="pagination h-100 justify-content-center align-items-center">
                <li class="page-item " th:if="${result.prev}">
                  <a class="page-link" th:href="@{/midea/mindlistAdmin(
                page = ${result.start -1},
                type = ${pageRequestDTO.type},
                keyword = ${pageRequestDTO.keyword}
                )}" tabindex="-1">Previous</a>
                </li>

                <li th:class=" 'page-item ' + ${result.page == page?'active': ''} "
                    th:each="page: ${result.pageList}">
                  <a class="page-link" th:href="@{/midea/mindlistAdmin(
                page = ${page},
                type = ${pageRequestDTO.type},
                keyword = ${pageRequestDTO.keyword}
                )}">
                    [[${page}]]
                  </a>
                </li>

                <li class="page-item" th:if="${result.next}">
                  <a class="page-link" th:href="@{/midea/mindlistAdmin(page= ${result.end +1},
                type=${pageRequestDTO.type},
                keyword=${pageRequestDTO.keyword}
                )}">Next</a>
                </li>
              </ul>
            </ul>
          </div>

          <!-- 모달 창 등록 -->
          <div class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal=header">
                  <h5 class="modal-title">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body">
                  <p>Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--========================================== ↑ 게시판 ===============================================-->

      </div>
    </div>
  </div>

    <script th:inline="javascript">
      var msg = [[${msg}]];
      console.log(msg);

      if(msg){
          $(".modal").modal();
      }

      var searchForm = $("#searchForm");

      $('.btn-search').click(function(e){
          searchForm.submit();
      });
    </script>

</th:block>
</th:block>
</html>